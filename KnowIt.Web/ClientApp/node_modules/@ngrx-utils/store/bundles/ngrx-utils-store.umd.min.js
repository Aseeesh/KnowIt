!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/router"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ngrx-utils/store",["exports","@angular/core","@angular/router","rxjs","rxjs/operators"],e):e(((t=t||self)["ngrx-utils"]=t["ngrx-utils"]||{},t["ngrx-utils"].store={}),t.ng.core,t.ng.router,t.rxjs,t.rxjs.operators)}(this,(function(t,e,r,n,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}var a=function(){this.$implicit=null,this.ngLet=null};var l=function(){function t(t,e){this._vcr=t,this._templateRef=e,this._context=new a}return Object.defineProperty(t.prototype,"ngLet",{set:function(t){this._context.$implicit=this._context.ngLet=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._vcr.createEmbeddedView(this._templateRef,this._context)},t.decorators=[{type:e.Directive,args:[{selector:"[ngLet]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.TemplateRef}]},t.propDecorators={ngLet:[{type:e.Input}]},t}();var c=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[l],exports:[l]}]}],t}(),p=Symbol("destroy$"),f=function(t){if(null==t.ngOnDestroy)throw new Error("untilDestroy operator needs the component to have an ngOnDestroy method");return void 0===t[p]&&function(t){t[p]=new n.Observable((function(e){var r=t.ngOnDestroy;return t.ngOnDestroy=function(){e.next(),e.complete(),r.call(t)},function(e){return t[p]=void 0}}))}(t),o.takeUntil(t[p])};var h=function(){function t(t,e,n){var o=this;this.router=t,this._renderer=e,this._ngEl=n,t.events.pipe(f(this)).subscribe((function(t){t instanceof r.NavigationEnd&&(o._curRoute=t.urlAfterRedirects,o._update())}))}return Object.defineProperty(t.prototype,"routerLinkMatch",{set:function(t){if(!t||"object"!=typeof t)throw new TypeError("Unexpected type '"+typeof t+"' of value for input of routerLinkMatch directive, expected 'object'");this._matchExp=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){this._update()},t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.pipe(f(this)).subscribe((function(){return t._update()})),this.linksWithHrefs.changes.pipe(f(this)).subscribe((function(){return t._update()})),this._update()},t.prototype._update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e,r,n=t._matchExp;try{for(var o=i(Object.keys(n)),s=o.next();!s.done;s=o.next()){var u=s.value;if(n[u]&&"string"==typeof n[u]){var a=new RegExp(n[u]);t._curRoute.match(a)?t._toggleClass(u,!0):t._toggleClass(u,!1)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}))},t.prototype._toggleClass=function(t,e){var r=this;t.split(/\s+/g).filter((function(t){return!!t})).forEach((function(t){e?r._renderer.addClass(r._ngEl.nativeElement,t):r._renderer.removeClass(r._ngEl.nativeElement,t)}))},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:e.Directive,args:[{selector:"[routerLinkMatch]"}]}],t.ctorParameters=function(){return[{type:r.Router},{type:Renderer2},{type:ElementRef}]},t.propDecorators={links:[{type:e.ContentChildren,args:[r.RouterLink,{descendants:!0}]}],linksWithHrefs:[{type:e.ContentChildren,args:[r.RouterLinkWithHref,{descendants:!0}]}],routerLinkMatch:[{type:e.Input,args:["routerLinkMatch"]}]},t}();var d=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[h],exports:[h]}]}],t}();function y(t,r){return Error("InvalidPipeArgument: '"+r+"' for pipe '"+e["ɵstringify"](t)+"'")}var g=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t}(),_=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,(function(t){throw t}))},t.prototype.dispose=function(t){},t}()),b=new g,v=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.transform=function(t){return null===this._obj?(null!=t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue):t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,e.WrappedValue.wrap(this._latestValue))},t.prototype.ngOnDestroy=function(){null!==this._subscription&&this._dispose()},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(r){return e._updateLatestValue(t,r)}))},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._selectStrategy=function(r){if(e["ɵisPromise"](r))return _;if(e["ɵisObservable"](r))return b;throw y(t,r)},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.detectChanges())},t.decorators=[{type:e.Pipe,args:[{name:"push",pure:!1}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},t}();var m=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{exports:[v],declarations:[v]}]}],t}();t.NgLetContext=a,t.NgLetDirective=l,t.NgLetModule=c,t.PushPipe=v,t.PushPipeModule=m,t.RouterLinkMatch=h,t.RouterLinkMatchModule=d,t.invalidPipeArgumentError=y,t.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.pluck.apply(void 0,u(t))},t.untilDestroy=f,t.ɵdestroy$=p,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngrx-utils-store.umd.min.js.map